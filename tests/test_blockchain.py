from lib.core import blockchain


TRANSACTIONS = [{'txid': 'aaf2c16f1dc94d19a5de65a74e2e23534e535f0d93200a6efeb43477f7c0de0d', 'date': '2018-08-23 23:19:19', 'block_height': 538171, 'confirmations': 2381, 'fee': 670, 'vsize': 133, 'inputs': [{'value': 23124, 'address': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU', 'n': 0}], 'outputs': [{'value': 22454, 'address': '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', 'n': 0, 'spent': False, 'script': 'a914eaf7b98972847c6e07322b6f89b01f476a4207f087'}], 'wallet_amount': 22454}, {'txid': 'b5e10566a91b29d5dc05fb7210341c2d8a1069f23bc9bd706cdd29474386ab24', 'date': '2018-08-23 23:18:08', 'block_height': 538171, 'confirmations': 2381, 'fee': 804, 'vsize': 134, 'inputs': [{'value': 21412, 'address': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912', 'n': 0}], 'outputs': [{'value': 20608, 'address': '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', 'n': 0, 'spent': False, 'script': 'a9149f30fdb15adf37c0896070dda2146f436b975aa287'}], 'wallet_amount': 20608}, {'txid': '85872e2db54e997c220af5ed8f1f8400973bd2da61b7afa63b9e847089739e19', 'date': '2018-08-23 22:44:05', 'block_height': 538170, 'confirmations': 2382, 'fee': 166, 'vsize': 166, 'inputs': [{'value': 48446, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1}], 'outputs': [{'value': 21412, 'address': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912', 'n': 0, 'spent': True, 'script': 'a914fb7775b6a9521edcf74876bc8a8721960dd3b46287'}, {'value': 26868, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': False, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -21578}, {'txid': 'a7ca09d59f60aae8040af837cb7b04a87d04e9c7846aebc5a14fd023b4e18628', 'date': '2018-08-22 22:59:11', 'block_height': 538016, 'confirmations': 2536, 'fee': 498, 'vsize': 166, 'inputs': [{'value': 72068, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1}], 'outputs': [{'value': 23124, 'address': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU', 'n': 0, 'spent': True, 'script': 'a914ab8c8b0dd3c74c3bac6ac9060b523b7cc214672587'}, {'value': 48446, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -23622}, {'txid': '973378ea5ad339c6bccd710a1485f6da5d57e91f9b259baf858160e1693c61dd', 'date': '2018-08-18 12:55:42', 'block_height': 537356, 'confirmations': 3196, 'fee': 1040, 'vsize': 258, 'inputs': [{'value': 15894, 'address': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', 'n': 0}, {'value': 73108, 'address': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', 'n': 1}], 'outputs': [{'value': 15894, 'address': '14t7TjgZc337dsnVKf4wKdsTxw3NN9ppHk', 'n': 0, 'spent': True, 'script': '76a9142a92fc1826e8239106b2a2c33bafd1cbfb75d52d88ac'}, {'value': 72068, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -16934}, {'txid': 'dc67a6117aaaf890b1172d3602d9dec46cab4efd7d1af1fa6f5416ba31f2aa1c', 'date': '2018-08-07 16:31:36', 'block_height': 535652, 'confirmations': 4900, 'fee': 134, 'vsize': 134, 'inputs': [{'value': 16028, 'address': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA', 'n': 0}], 'outputs': [{'value': 15894, 'address': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', 'n': 0, 'spent': True, 'script': 'a914b0a375f8553e4d5c8367ee9e05548bb659ae367687'}], 'wallet_amount': 15894}, {'txid': '3787f6d27d8b264ba745d8f642df3db42bdd498c986aa116a462cc5361affe1b', 'date': '2018-08-07 16:17:25', 'block_height': 535642, 'confirmations': 4910, 'fee': 1000, 'vsize': 166, 'inputs': [{'value': 90136, 'address': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', 'n': 0}], 'outputs': [{'value': 16028, 'address': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA', 'n': 0, 'spent': True, 'script': 'a91442e3fa10c2a6d218fed4939358dfc016690f8aa087'}, {'value': 73108, 'address': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', 'n': 1, 'spent': True, 'script': 'a91434611e23f880d85dc1b54f77410292a2b0f6df9587'}], 'wallet_amount': -17028}, {'txid': '48cab3bf8d863231df22599766e68f17b383d254e0ed41a3ee0aa563f2e91194', 'date': '2018-04-01 22:22:21', 'block_height': 516195, 'confirmations': 24357, 'fee': 830, 'vsize': 165, 'inputs': [{'value': 58491301, 'address': '35rzNRfgUxXCRdDikHFKGGn4Tj1hQGLhnC', 'n': 1}], 'outputs': [{'value': 90136, 'address': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', 'n': 0, 'spent': True, 'script': 'a91438bbc54027cbf7d692b56c0527df4cf59d3957f187'}], 'wallet_amount': 90136}]
UTXOS = [['aaf2c16f1dc94d19a5de65a74e2e23534e535f0d93200a6efeb43477f7c0de0d', 0, '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', 'a914eaf7b98972847c6e07322b6f89b01f476a4207f087', 22454, 2381], ['b5e10566a91b29d5dc05fb7210341c2d8a1069f23bc9bd706cdd29474386ab24', 0, '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', 'a9149f30fdb15adf37c0896070dda2146f436b975aa287', 20608, 2381], ['85872e2db54e997c220af5ed8f1f8400973bd2da61b7afa63b9e847089739e19', 1, '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 26868, 2382]]
ADDRESS_BALANCES = {'3BC3BB95r4TdPiokTxEFWUMAJuniL8SnUE': (0, 0), '3JERezZrGR4GCziXwDoeAsnvUzctJP752X': (0, 0), '38RsE85xQUjV66F9BYU45gmeK1NhkdFdLq': (0, 0), '35uN5Pft9URt9NeKiAPp5mQkSUbVhqYcnh': (0, 0), '3FiJM6UbQCgbYi2XAcQHEPEtfMNEG4snet': (0, 0), '3BeVSK3HGp7DsXjYPgukgUjR85s36su9Fa': (0, 0), '3B7BFp27Ky4Yj4LGriQNhy5rsMUTnGjTHU': (0, 0), '3DN1F2whKg4bAewQkTPEypVdqsaj7m71mK': (0, 0), '3N4fC5NQpHJdiAUWMik42MjMRPAB3FtgBd': (0, 0), '35CNo9h1faiWFV3mX3UZiKdYBJvpCSytKj': (0, 0), '3EEVVJstNiUgHTQNz9Jm3RyMzVzFoaT19R': (0, 0), '346R2UrQPth75DijW4vqCvbNBL9yDHYaoy': (0, 0), '3FN8PUfkde7rEjfMYCM3a1szj29v7FVedU': (0, 0), '3EVGSqQvD7CJS88tYqocJBTJ2eQtbhWq9r': (0, 0), '3NXzA2VCZ97arT56j1Uwu5J4K9CqQ2oLzc': (0, 0), '3Cmn7qEYTaySsKT62J8W1imeZNgquU98eE': (0, 0), '3MoFRuBxE1N6rn1otMKC9i331QmuPPw8Mf': (0, 0), '3CJkhk4nQJ2fiPExudN4KyJcJN34nzbVFt': (0, 0), '3Grw76eMbUnCQHshoNGbCKvH93pFTBHTiM': (0, 0), '3Hnf9bD2uJ273oTUEjoRs5bQMg3aoPr97w': (0, 0), '3Dfb9aVMM2u4DDtSZqnDbsskpMcEkXCWDH': (0, 0), '3FbFLNPgfi3hhEUyoaiXyHcD1tJEKwjLhG': (0, 0), '3JQtjVgyWyqwNkuCFfQm3GuG5bKwjxk36v': (0, 0), '36HYBiEPKXXWfgydPVs49feoxpfvgbk5P5': (0, 0), '385A9Z3w195Mgdft5dToVvuJ9btwUAoWix': (0, 0), '3Bc5F4wnFSf8vYvKYzNiXfUaSJy2ePBc2f': (0, 0), '36VL9xAx1hGfKDGUei77YzfVQoVibieC6b': (0, 0), '33NZsgvD7QTKDPkoMkaqnN4Vou6ssi1J8j': (0, 0), '34bbwTpaY3RKN977jjUm35SJSHy4gJHG5K': (0, 0), '3PARkvFmVoFSEVYBTMxEUHesToF3syA1MJ': (0, 0), '38WzGh1BSAxrAn48jiUxqXUocmHryjL8p9': (0, 0), '36CTYmsp4vJdMic2V7Q6DjncvsDbNaZwvd': (0, 0), '38LcbGeL6amF4njjLtZTzvPCHB56Y9SGLV': (0, 0), '35UiPyp1eGkakCWQyntwjNNUMumFipuGVv': (0, 0), '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA': (0, 0), '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8': (0, 0), '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL': (0, 0), '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC': (20608, 0), '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm': (22454, 0), '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox': (26868, 0)}
WALLET_BALANCE = [69930, 0]


class TestBlockchain(blockchain._BlockchainBaseClass):

    __test__ = False

    @property
    def transactions(self):
        return TRANSACTIONS


test_blockchain_obj = TestBlockchain(addresses=['3BC3BB95r4TdPiokTxEFWUMAJuniL8SnUE', '3JERezZrGR4GCziXwDoeAsnvUzctJP752X', '38RsE85xQUjV66F9BYU45gmeK1NhkdFdLq', '35uN5Pft9URt9NeKiAPp5mQkSUbVhqYcnh', '3FiJM6UbQCgbYi2XAcQHEPEtfMNEG4snet', '3BeVSK3HGp7DsXjYPgukgUjR85s36su9Fa', '3B7BFp27Ky4Yj4LGriQNhy5rsMUTnGjTHU', '3DN1F2whKg4bAewQkTPEypVdqsaj7m71mK', '3N4fC5NQpHJdiAUWMik42MjMRPAB3FtgBd', '35CNo9h1faiWFV3mX3UZiKdYBJvpCSytKj', '3EEVVJstNiUgHTQNz9Jm3RyMzVzFoaT19R', '346R2UrQPth75DijW4vqCvbNBL9yDHYaoy', '3FN8PUfkde7rEjfMYCM3a1szj29v7FVedU', '3EVGSqQvD7CJS88tYqocJBTJ2eQtbhWq9r', '3NXzA2VCZ97arT56j1Uwu5J4K9CqQ2oLzc', '3Cmn7qEYTaySsKT62J8W1imeZNgquU98eE', '3MoFRuBxE1N6rn1otMKC9i331QmuPPw8Mf', '3CJkhk4nQJ2fiPExudN4KyJcJN34nzbVFt', '3Grw76eMbUnCQHshoNGbCKvH93pFTBHTiM', '3Hnf9bD2uJ273oTUEjoRs5bQMg3aoPr97w', '3Dfb9aVMM2u4DDtSZqnDbsskpMcEkXCWDH', '3FbFLNPgfi3hhEUyoaiXyHcD1tJEKwjLhG', '3JQtjVgyWyqwNkuCFfQm3GuG5bKwjxk36v', '36HYBiEPKXXWfgydPVs49feoxpfvgbk5P5', '385A9Z3w195Mgdft5dToVvuJ9btwUAoWix', '3Bc5F4wnFSf8vYvKYzNiXfUaSJy2ePBc2f', '36VL9xAx1hGfKDGUei77YzfVQoVibieC6b', '33NZsgvD7QTKDPkoMkaqnN4Vou6ssi1J8j', '34bbwTpaY3RKN977jjUm35SJSHy4gJHG5K', '3PARkvFmVoFSEVYBTMxEUHesToF3syA1MJ', '38WzGh1BSAxrAn48jiUxqXUocmHryjL8p9', '36CTYmsp4vJdMic2V7Q6DjncvsDbNaZwvd', '38LcbGeL6amF4njjLtZTzvPCHB56Y9SGLV', '35UiPyp1eGkakCWQyntwjNNUMumFipuGVv', '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'],
                                     refresh_rate=0, url='')


def test_utxo_gen():
    assert test_blockchain_obj.unspent_outputs == UTXOS


def test_address_balances_gen():
    assert test_blockchain_obj.address_balances == ADDRESS_BALANCES


def test_wallet_balance_gen():
    assert test_blockchain_obj.wallet_balance == WALLET_BALANCE
