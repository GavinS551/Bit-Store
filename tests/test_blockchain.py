from lib.core import blockchain


TRANSACTIONS = [{'txid': 'aaf2c16f1dc94d19a5de65a74e2e23534e535f0d93200a6efeb43477f7c0de0d', 'date': '2018-08-23 23:19:19', 'block_height': 538171, 'confirmations': 2381, 'fee': 670, 'vsize': 133, 'inputs': [{'value': 23124, 'address': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU', 'n': 0}], 'outputs': [{'value': 22454, 'address': '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', 'n': 0, 'spent': False, 'script': 'a914eaf7b98972847c6e07322b6f89b01f476a4207f087'}], 'wallet_amount': 22454}, {'txid': 'b5e10566a91b29d5dc05fb7210341c2d8a1069f23bc9bd706cdd29474386ab24', 'date': '2018-08-23 23:18:08', 'block_height': 538171, 'confirmations': 2381, 'fee': 804, 'vsize': 134, 'inputs': [{'value': 21412, 'address': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912', 'n': 0}], 'outputs': [{'value': 20608, 'address': '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', 'n': 0, 'spent': False, 'script': 'a9149f30fdb15adf37c0896070dda2146f436b975aa287'}], 'wallet_amount': 20608}, {'txid': '85872e2db54e997c220af5ed8f1f8400973bd2da61b7afa63b9e847089739e19', 'date': '2018-08-23 22:44:05', 'block_height': 538170, 'confirmations': 2382, 'fee': 166, 'vsize': 166, 'inputs': [{'value': 48446, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1}], 'outputs': [{'value': 21412, 'address': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912', 'n': 0, 'spent': True, 'script': 'a914fb7775b6a9521edcf74876bc8a8721960dd3b46287'}, {'value': 26868, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': False, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -21578}, {'txid': 'a7ca09d59f60aae8040af837cb7b04a87d04e9c7846aebc5a14fd023b4e18628', 'date': '2018-08-22 22:59:11', 'block_height': 538016, 'confirmations': 2536, 'fee': 498, 'vsize': 166, 'inputs': [{'value': 72068, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1}], 'outputs': [{'value': 23124, 'address': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU', 'n': 0, 'spent': True, 'script': 'a914ab8c8b0dd3c74c3bac6ac9060b523b7cc214672587'}, {'value': 48446, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -23622}, {'txid': '973378ea5ad339c6bccd710a1485f6da5d57e91f9b259baf858160e1693c61dd', 'date': '2018-08-18 12:55:42', 'block_height': 537356, 'confirmations': 3196, 'fee': 1040, 'vsize': 258, 'inputs': [{'value': 15894, 'address': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', 'n': 0}, {'value': 73108, 'address': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', 'n': 1}], 'outputs': [{'value': 15894, 'address': '14t7TjgZc337dsnVKf4wKdsTxw3NN9ppHk', 'n': 0, 'spent': True, 'script': '76a9142a92fc1826e8239106b2a2c33bafd1cbfb75d52d88ac'}, {'value': 72068, 'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187'}], 'wallet_amount': -16934}, {'txid': 'dc67a6117aaaf890b1172d3602d9dec46cab4efd7d1af1fa6f5416ba31f2aa1c', 'date': '2018-08-07 16:31:36', 'block_height': 535652, 'confirmations': 4900, 'fee': 134, 'vsize': 134, 'inputs': [{'value': 16028, 'address': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA', 'n': 0}], 'outputs': [{'value': 15894, 'address': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', 'n': 0, 'spent': True, 'script': 'a914b0a375f8553e4d5c8367ee9e05548bb659ae367687'}], 'wallet_amount': 15894}, {'txid': '3787f6d27d8b264ba745d8f642df3db42bdd498c986aa116a462cc5361affe1b', 'date': '2018-08-07 16:17:25', 'block_height': 535642, 'confirmations': 4910, 'fee': 1000, 'vsize': 166, 'inputs': [{'value': 90136, 'address': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', 'n': 0}], 'outputs': [{'value': 16028, 'address': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA', 'n': 0, 'spent': True, 'script': 'a91442e3fa10c2a6d218fed4939358dfc016690f8aa087'}, {'value': 73108, 'address': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', 'n': 1, 'spent': True, 'script': 'a91434611e23f880d85dc1b54f77410292a2b0f6df9587'}], 'wallet_amount': -17028}, {'txid': '48cab3bf8d863231df22599766e68f17b383d254e0ed41a3ee0aa563f2e91194', 'date': '2018-04-01 22:22:21', 'block_height': 516195, 'confirmations': 24357, 'fee': 830, 'vsize': 165, 'inputs': [{'value': 58491301, 'address': '35rzNRfgUxXCRdDikHFKGGn4Tj1hQGLhnC', 'n': 1}], 'outputs': [{'value': 90136, 'address': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', 'n': 0, 'spent': True, 'script': 'a91438bbc54027cbf7d692b56c0527df4cf59d3957f187'}], 'wallet_amount': 90136}]
UTXOS = [['aaf2c16f1dc94d19a5de65a74e2e23534e535f0d93200a6efeb43477f7c0de0d', 0, '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', 'a914eaf7b98972847c6e07322b6f89b01f476a4207f087', 22454, 2381], ['b5e10566a91b29d5dc05fb7210341c2d8a1069f23bc9bd706cdd29474386ab24', 0, '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', 'a9149f30fdb15adf37c0896070dda2146f436b975aa287', 20608, 2381], ['85872e2db54e997c220af5ed8f1f8400973bd2da61b7afa63b9e847089739e19', 1, '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 26868, 2382]]
ADDRESS_BALANCES = {'3BC3BB95r4TdPiokTxEFWUMAJuniL8SnUE': (0, 0), '3JERezZrGR4GCziXwDoeAsnvUzctJP752X': (0, 0), '38RsE85xQUjV66F9BYU45gmeK1NhkdFdLq': (0, 0), '35uN5Pft9URt9NeKiAPp5mQkSUbVhqYcnh': (0, 0), '3FiJM6UbQCgbYi2XAcQHEPEtfMNEG4snet': (0, 0), '3BeVSK3HGp7DsXjYPgukgUjR85s36su9Fa': (0, 0), '3B7BFp27Ky4Yj4LGriQNhy5rsMUTnGjTHU': (0, 0), '3DN1F2whKg4bAewQkTPEypVdqsaj7m71mK': (0, 0), '3N4fC5NQpHJdiAUWMik42MjMRPAB3FtgBd': (0, 0), '35CNo9h1faiWFV3mX3UZiKdYBJvpCSytKj': (0, 0), '3EEVVJstNiUgHTQNz9Jm3RyMzVzFoaT19R': (0, 0), '346R2UrQPth75DijW4vqCvbNBL9yDHYaoy': (0, 0), '3FN8PUfkde7rEjfMYCM3a1szj29v7FVedU': (0, 0), '3EVGSqQvD7CJS88tYqocJBTJ2eQtbhWq9r': (0, 0), '3NXzA2VCZ97arT56j1Uwu5J4K9CqQ2oLzc': (0, 0), '3Cmn7qEYTaySsKT62J8W1imeZNgquU98eE': (0, 0), '3MoFRuBxE1N6rn1otMKC9i331QmuPPw8Mf': (0, 0), '3CJkhk4nQJ2fiPExudN4KyJcJN34nzbVFt': (0, 0), '3Grw76eMbUnCQHshoNGbCKvH93pFTBHTiM': (0, 0), '3Hnf9bD2uJ273oTUEjoRs5bQMg3aoPr97w': (0, 0), '3Dfb9aVMM2u4DDtSZqnDbsskpMcEkXCWDH': (0, 0), '3FbFLNPgfi3hhEUyoaiXyHcD1tJEKwjLhG': (0, 0), '3JQtjVgyWyqwNkuCFfQm3GuG5bKwjxk36v': (0, 0), '36HYBiEPKXXWfgydPVs49feoxpfvgbk5P5': (0, 0), '385A9Z3w195Mgdft5dToVvuJ9btwUAoWix': (0, 0), '3Bc5F4wnFSf8vYvKYzNiXfUaSJy2ePBc2f': (0, 0), '36VL9xAx1hGfKDGUei77YzfVQoVibieC6b': (0, 0), '33NZsgvD7QTKDPkoMkaqnN4Vou6ssi1J8j': (0, 0), '34bbwTpaY3RKN977jjUm35SJSHy4gJHG5K': (0, 0), '3PARkvFmVoFSEVYBTMxEUHesToF3syA1MJ': (0, 0), '38WzGh1BSAxrAn48jiUxqXUocmHryjL8p9': (0, 0), '36CTYmsp4vJdMic2V7Q6DjncvsDbNaZwvd': (0, 0), '38LcbGeL6amF4njjLtZTzvPCHB56Y9SGLV': (0, 0), '35UiPyp1eGkakCWQyntwjNNUMumFipuGVv': (0, 0), '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA': (0, 0), '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8': (0, 0), '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL': (0, 0), '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC': (20608, 0), '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm': (22454, 0), '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox': (26868, 0)}
WALLET_BALANCE = [69930, 0]

ADDRESSES = ['3BC3BB95r4TdPiokTxEFWUMAJuniL8SnUE', '3JERezZrGR4GCziXwDoeAsnvUzctJP752X', '38RsE85xQUjV66F9BYU45gmeK1NhkdFdLq', '35uN5Pft9URt9NeKiAPp5mQkSUbVhqYcnh', '3FiJM6UbQCgbYi2XAcQHEPEtfMNEG4snet', '3BeVSK3HGp7DsXjYPgukgUjR85s36su9Fa', '3B7BFp27Ky4Yj4LGriQNhy5rsMUTnGjTHU', '3DN1F2whKg4bAewQkTPEypVdqsaj7m71mK', '3N4fC5NQpHJdiAUWMik42MjMRPAB3FtgBd', '35CNo9h1faiWFV3mX3UZiKdYBJvpCSytKj', '3EEVVJstNiUgHTQNz9Jm3RyMzVzFoaT19R', '346R2UrQPth75DijW4vqCvbNBL9yDHYaoy', '3FN8PUfkde7rEjfMYCM3a1szj29v7FVedU', '3EVGSqQvD7CJS88tYqocJBTJ2eQtbhWq9r', '3NXzA2VCZ97arT56j1Uwu5J4K9CqQ2oLzc', '3Cmn7qEYTaySsKT62J8W1imeZNgquU98eE', '3MoFRuBxE1N6rn1otMKC9i331QmuPPw8Mf', '3CJkhk4nQJ2fiPExudN4KyJcJN34nzbVFt', '3Grw76eMbUnCQHshoNGbCKvH93pFTBHTiM', '3Hnf9bD2uJ273oTUEjoRs5bQMg3aoPr97w', '3Dfb9aVMM2u4DDtSZqnDbsskpMcEkXCWDH', '3FbFLNPgfi3hhEUyoaiXyHcD1tJEKwjLhG', '3JQtjVgyWyqwNkuCFfQm3GuG5bKwjxk36v', '36HYBiEPKXXWfgydPVs49feoxpfvgbk5P5', '385A9Z3w195Mgdft5dToVvuJ9btwUAoWix', '3Bc5F4wnFSf8vYvKYzNiXfUaSJy2ePBc2f', '36VL9xAx1hGfKDGUei77YzfVQoVibieC6b', '33NZsgvD7QTKDPkoMkaqnN4Vou6ssi1J8j', '34bbwTpaY3RKN977jjUm35SJSHy4gJHG5K', '3PARkvFmVoFSEVYBTMxEUHesToF3syA1MJ', '38WzGh1BSAxrAn48jiUxqXUocmHryjL8p9', '36CTYmsp4vJdMic2V7Q6DjncvsDbNaZwvd', '38LcbGeL6amF4njjLtZTzvPCHB56Y9SGLV', '35UiPyp1eGkakCWQyntwjNNUMumFipuGVv', '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox']


class TestBlockchainBaseClass(blockchain._BlockchainBaseClass):

    __test__ = False

    @property
    def transactions(self):
        return TRANSACTIONS


test_blockchain_obj = TestBlockchainBaseClass(addresses=ADDRESSES,
                                              refresh_rate=0, url='')


def test_utxo_gen():
    assert test_blockchain_obj.unspent_outputs == UTXOS


def test_address_balances_gen():
    assert test_blockchain_obj.address_balances == ADDRESS_BALANCES


def test_wallet_balance_gen():
    assert test_blockchain_obj.wallet_balance == WALLET_BALANCE


class TestBlockchainInfo(blockchain.BlockchainInfo):

    __test__ = False

    RAW_API_DATA = {'recommend_include_fee': True, 'info': {'nconnected': 0, 'conversion': 100000000.0, 'symbol_local': {'code': 'USD', 'symbol': '$', 'name': 'U.S. dollar', 'conversion': 15696.6897251, 'symbolAppearsAfter': False, 'local': True}, 'symbol_btc': {'code': 'BTC', 'symbol': 'BTC', 'name': 'Bitcoin', 'conversion': 100000000.0, 'symbolAppearsAfter': True, 'local': False}, 'latest_block': {'block_index': 1722107, 'hash': '0000000000000000001c6cfa3f9c2b045fedaf8828a8d4299753eb6ee9ad3922', 'height': 540551, 'time': 1536510217}}, 'wallet': {'n_tx': 8, 'n_tx_filtered': 8, 'total_received': 149092, 'total_sent': 79162, 'final_balance': 69930}, 'addresses': [{'address': '3Grw76eMbUnCQHshoNGbCKvH93pFTBHTiM', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL', 'n_tx': 2, 'total_received': 15894, 'total_sent': 15894, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3EEVVJstNiUgHTQNz9Jm3RyMzVzFoaT19R', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3FN8PUfkde7rEjfMYCM3a1szj29v7FVedU', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3Hnf9bD2uJ273oTUEjoRs5bQMg3aoPr97w', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3Dfb9aVMM2u4DDtSZqnDbsskpMcEkXCWDH', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC', 'n_tx': 1, 'total_received': 20608, 'total_sent': 0, 'final_balance': 20608, 'change_index': 0, 'account_index': 0}, {'address': '3Bc5F4wnFSf8vYvKYzNiXfUaSJy2ePBc2f', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3DN1F2whKg4bAewQkTPEypVdqsaj7m71mK', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '35uN5Pft9URt9NeKiAPp5mQkSUbVhqYcnh', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3NXzA2VCZ97arT56j1Uwu5J4K9CqQ2oLzc', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3BeVSK3HGp7DsXjYPgukgUjR85s36su9Fa', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3PARkvFmVoFSEVYBTMxEUHesToF3syA1MJ', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '38WzGh1BSAxrAn48jiUxqXUocmHryjL8p9', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '35UiPyp1eGkakCWQyntwjNNUMumFipuGVv', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '33NZsgvD7QTKDPkoMkaqnN4Vou6ssi1J8j', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '35CNo9h1faiWFV3mX3UZiKdYBJvpCSytKj', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA', 'n_tx': 2, 'total_received': 90136, 'total_sent': 90136, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm', 'n_tx': 1, 'total_received': 22454, 'total_sent': 0, 'final_balance': 22454, 'change_index': 0, 'account_index': 0}, {'address': '3BC3BB95r4TdPiokTxEFWUMAJuniL8SnUE', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '346R2UrQPth75DijW4vqCvbNBL9yDHYaoy', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3FiJM6UbQCgbYi2XAcQHEPEtfMNEG4snet', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3EVGSqQvD7CJS88tYqocJBTJ2eQtbhWq9r', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3B7BFp27Ky4Yj4LGriQNhy5rsMUTnGjTHU', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3JQtjVgyWyqwNkuCFfQm3GuG5bKwjxk36v', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3Cmn7qEYTaySsKT62J8W1imeZNgquU98eE', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8', 'n_tx': 2, 'total_received': 73108, 'total_sent': 73108, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '385A9Z3w195Mgdft5dToVvuJ9btwUAoWix', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '36CTYmsp4vJdMic2V7Q6DjncvsDbNaZwvd', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3CJkhk4nQJ2fiPExudN4KyJcJN34nzbVFt', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '38LcbGeL6amF4njjLtZTzvPCHB56Y9SGLV', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '36VL9xAx1hGfKDGUei77YzfVQoVibieC6b', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '36HYBiEPKXXWfgydPVs49feoxpfvgbk5P5', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3N4fC5NQpHJdiAUWMik42MjMRPAB3FtgBd', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3MoFRuBxE1N6rn1otMKC9i331QmuPPw8Mf', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '38RsE85xQUjV66F9BYU45gmeK1NhkdFdLq', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3FbFLNPgfi3hhEUyoaiXyHcD1tJEKwjLhG', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox', 'n_tx': 3, 'total_received': 72068, 'total_sent': 45200, 'final_balance': 26868, 'change_index': 0, 'account_index': 0}, {'address': '3JERezZrGR4GCziXwDoeAsnvUzctJP752X', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}, {'address': '34bbwTpaY3RKN977jjUm35SJSHy4gJHG5K', 'n_tx': 0, 'total_received': 0, 'total_sent': 0, 'final_balance': 0, 'change_index': 0, 'account_index': 0}], 'txs': [{'hash': 'aaf2c16f1dc94d19a5de65a74e2e23534e535f0d93200a6efeb43477f7c0de0d', 'ver': 1, 'vin_sz': 1, 'vout_sz': 1, 'size': 215, 'weight': 533, 'fee': 670, 'relayed_by': '0.0.0.0', 'lock_time': 538170, 'tx_index': 369080337, 'double_spend': False, 'result': 22454, 'balance': 69930, 'time': 1535066359, 'block_height': 538171, 'inputs': [{'prev_out': {'value': 23124, 'tx_index': 368858486, 'n': 0, 'spent': True, 'script': 'a914ab8c8b0dd3c74c3bac6ac9060b523b7cc214672587', 'type': 0, 'addr': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU'}, 'sequence': 4294967294, 'script': '16001402ee59db05ccd799d1aecde84d6a89a7ed3abcd5', 'witness': '024730440220358004d0e1f16361a1c7351a18f3ba07dda3e75940e67bdd45d1db792fa7a6cd02207854447a8e1fd62c5fa78f4680e800fa4af51850f1a1ab9b87c9ea89cb6e0f3b012102b1a721e9713dbb7e2cdc040c53ccbeaf0e3b987bde94fa942612cb887011b044'}], 'out': [{'value': 22454, 'tx_index': 369080337, 'n': 0, 'spent': False, 'script': 'a914eaf7b98972847c6e07322b6f89b01f476a4207f087', 'type': 0, 'addr': '3P7QoedqUa5tvTmEpvsr8ruYJq3CUHbYWm'}]}, {'hash': 'b5e10566a91b29d5dc05fb7210341c2d8a1069f23bc9bd706cdd29474386ab24', 'ver': 1, 'vin_sz': 1, 'vout_sz': 1, 'size': 216, 'weight': 534, 'fee': 804, 'relayed_by': '0.0.0.0', 'lock_time': 538170, 'tx_index': 369078870, 'double_spend': False, 'result': 20608, 'balance': 47476, 'time': 1535066288, 'block_height': 538171, 'inputs': [{'prev_out': {'value': 21412, 'tx_index': 369075500, 'n': 0, 'spent': True, 'script': 'a914fb7775b6a9521edcf74876bc8a8721960dd3b46287', 'type': 0, 'addr': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912'}, 'sequence': 4294967294, 'script': '160014b48b7ff44dcb007398c628453559a9a52c3e8e56', 'witness': '02483045022100c044a2547fe1683edd2d9749eb2bb5e096efda3fd277182f7da8c3ecef93294102207ba806e88b5a8993366e46dce87584241c820d27228eac041f15d9dab28a6a03012102b2761a37145a4fcfcd004bb6bf0925e7b06e1accb6569e2bd40b28a07f8e673f'}], 'out': [{'value': 20608, 'tx_index': 369078870, 'n': 0, 'spent': False, 'script': 'a9149f30fdb15adf37c0896070dda2146f436b975aa287', 'type': 0, 'addr': '3GCk3zrTAhUtf6K5Hge4yVUHUwfdf1NrsC'}]}, {'hash': '85872e2db54e997c220af5ed8f1f8400973bd2da61b7afa63b9e847089739e19', 'ver': 1, 'vin_sz': 1, 'vout_sz': 2, 'size': 248, 'weight': 662, 'fee': 166, 'relayed_by': '0.0.0.0', 'lock_time': 0, 'tx_index': 369075500, 'double_spend': False, 'result': -21578, 'balance': 26868, 'time': 1535064245, 'block_height': 538170, 'inputs': [{'prev_out': {'value': 48446, 'tx_index': 368858486, 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 'type': 0, 'addr': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'}, 'sequence': 4294967295, 'script': '160014d873c42902aa6cbdbac062692e979c3afe7fe877', 'witness': '02483045022100cb9275d12fdf211384c78170b344f33487f5d760dc62ca5c1cb4898b8e604596022049e37d05cd0a6794b13778146bbac1ddc8e94e2b0ef01777097942dfb6f61f19012102a093021a465d60ef1f20738a35142839389ee8497feaeb9a34eb6cb00e7cf2c1'}], 'out': [{'value': 21412, 'tx_index': 369075500, 'n': 0, 'spent': True, 'script': 'a914fb7775b6a9521edcf74876bc8a8721960dd3b46287', 'type': 0, 'addr': '3QceduZ2CEb1ZETsqSJYvcTuFjpwQDA912'}, {'value': 26868, 'tx_index': 369075500, 'n': 1, 'spent': False, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 'type': 0, 'addr': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'}]}, {'hash': 'a7ca09d59f60aae8040af837cb7b04a87d04e9c7846aebc5a14fd023b4e18628', 'ver': 1, 'vin_sz': 1, 'vout_sz': 2, 'size': 248, 'weight': 662, 'fee': 498, 'relayed_by': '0.0.0.0', 'lock_time': 0, 'tx_index': 368858486, 'double_spend': False, 'result': -23622, 'balance': 48446, 'time': 1534978751, 'block_height': 538016, 'inputs': [{'prev_out': {'value': 72068, 'tx_index': 367931011, 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 'type': 0, 'addr': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'}, 'sequence': 4294967295, 'script': '160014d873c42902aa6cbdbac062692e979c3afe7fe877', 'witness': '02483045022100ff80789ebabd794aa59176f471e6abe637fdff8787e28fdf09cf0416b8915a1b02201051c0206a12fd7bec90ffd54497e44f41bea85d257bf69ba74dc5a69acd4c9c012102a093021a465d60ef1f20738a35142839389ee8497feaeb9a34eb6cb00e7cf2c1'}], 'out': [{'value': 23124, 'tx_index': 368858486, 'n': 0, 'spent': True, 'script': 'a914ab8c8b0dd3c74c3bac6ac9060b523b7cc214672587', 'type': 0, 'addr': '3HL5qTXE6ZApkJc2g8q3x1mDR8Q4SeN3cU'}, {'value': 48446, 'tx_index': 368858486, 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 'type': 0, 'addr': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'}]}, {'hash': '973378ea5ad339c6bccd710a1485f6da5d57e91f9b259baf858160e1693c61dd', 'ver': 1, 'vin_sz': 2, 'vout_sz': 2, 'size': 422, 'weight': 1034, 'fee': 1040, 'relayed_by': '0.0.0.0', 'lock_time': 0, 'tx_index': 367931011, 'double_spend': False, 'result': -16934, 'balance': 72068, 'time': 1534596942, 'block_height': 537356, 'inputs': [{'prev_out': {'value': 15894, 'tx_index': 365501709, 'n': 0, 'spent': True, 'script': 'a914b0a375f8553e4d5c8367ee9e05548bb659ae367687', 'type': 0, 'addr': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL'}, 'sequence': 4294967295, 'script': '1600140ce83f88d4c41f95dfd31b46d18743bac3d83de3', 'witness': '02483045022100cc77ec0f7c956fee3dd47a936c1bd09e41bd107d598d64a6611e2d70b1541de202201249ca2dc7c7a1dab8f4ef5f22312496d215d8b5cd3e0b8104fc542d43405ec701210234edf0f353f35e93758d0f1e926a6e8dacfb7fd6d175ea21cb51c078a4b4b6b7'}, {'prev_out': {'value': 73108, 'tx_index': 365498413, 'n': 1, 'spent': True, 'script': 'a91434611e23f880d85dc1b54f77410292a2b0f6df9587', 'type': 0, 'addr': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8'}, 'sequence': 4294967295, 'script': '160014a72cfdbc116ecada5044f31ddad33c9e998b2549', 'witness': '02483045022100c3fba0b87867340b71adc33555853d50aa781c625a06e7b3f23235645c9e021302206e0c003e23e4f5f504ee48d4762e4daa42bbedbb9d638a3e6656e94f9d8d47b901210327790c4cdc9a9e0a6c436c6435e3ac0cb1709c7ffb9a3c3ab77e08ddc6b251fe'}], 'out': [{'value': 15894, 'tx_index': 367931011, 'n': 0, 'spent': True, 'script': '76a9142a92fc1826e8239106b2a2c33bafd1cbfb75d52d88ac', 'type': 0, 'addr': '14t7TjgZc337dsnVKf4wKdsTxw3NN9ppHk'}, {'value': 72068, 'tx_index': 367931011, 'n': 1, 'spent': True, 'script': 'a91488fc42eba2c33c7b251dfc9411ce8a54ee19e4c187', 'type': 0, 'addr': '3EBL24apxk77Ri3aDbY8hzU4sskyq4LTox'}]}, {'hash': 'dc67a6117aaaf890b1172d3602d9dec46cab4efd7d1af1fa6f5416ba31f2aa1c', 'ver': 1, 'vin_sz': 1, 'vout_sz': 1, 'size': 216, 'weight': 534, 'fee': 134, 'relayed_by': '0.0.0.0', 'lock_time': 535644, 'tx_index': 365501709, 'double_spend': False, 'result': 15894, 'balance': 89002, 'time': 1533659496, 'block_height': 535652, 'inputs': [{'prev_out': {'value': 16028, 'tx_index': 365498413, 'n': 0, 'spent': True, 'script': 'a91442e3fa10c2a6d218fed4939358dfc016690f8aa087', 'type': 0, 'addr': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA'}, 'sequence': 4294967294, 'script': '1600140d2fa76e01eb8cb3df7b24699be9d6b227522c3c', 'witness': '02483045022100d8c3cb602a242f0e53b5b484f7540ab643fae76df8974ce51958d7fdacc8838902204620dc50b839b35d89cd6bfc33245c4fe039c2996bda12bde5388c9404b8f64601210353489583d49b4841b29df90daab970e4331d6dca7cabef45aa67a08e96570c88'}], 'out': [{'value': 15894, 'tx_index': 365501709, 'n': 0, 'spent': True, 'script': 'a914b0a375f8553e4d5c8367ee9e05548bb659ae367687', 'type': 0, 'addr': '3HnzfmCQEGdhp8JTupZVt7pvhddUbAWnSL'}]}, {'hash': '3787f6d27d8b264ba745d8f642df3db42bdd498c986aa116a462cc5361affe1b', 'ver': 1, 'vin_sz': 1, 'vout_sz': 2, 'size': 248, 'weight': 662, 'fee': 1000, 'relayed_by': '0.0.0.0', 'lock_time': 0, 'tx_index': 365498413, 'double_spend': False, 'result': -17028, 'balance': 73108, 'time': 1533658645, 'block_height': 535642, 'inputs': [{'prev_out': {'value': 90136, 'tx_index': 339613598, 'n': 0, 'spent': True, 'script': 'a91438bbc54027cbf7d692b56c0527df4cf59d3957f187', 'type': 0, 'addr': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA'}, 'sequence': 4294967295, 'script': '1600140c53a66bba7301aa161783a980183fbed304e785', 'witness': '02483045022100f22c64b9189cf2ce11da5cafce03c4ea7f09c20cecf5e88535be6c543e88d67a02206101d4be245cf48ea3241765e0051cc41f8857ba862dc8e83457140babbd0f62012102f6d059c39f4c085e6df3e162aaef074cc7a154557ef183685fd299767aaf87f3'}], 'out': [{'value': 16028, 'tx_index': 365498413, 'n': 0, 'spent': True, 'script': 'a91442e3fa10c2a6d218fed4939358dfc016690f8aa087', 'type': 0, 'addr': '37nhdK2SMrcxhY64TVV6Po73CWaugDdCUA'}, {'value': 73108, 'tx_index': 365498413, 'n': 1, 'spent': True, 'script': 'a91434611e23f880d85dc1b54f77410292a2b0f6df9587', 'type': 0, 'addr': '36TyQNrMTfyiy4zt3mwET4sD4tg2Pyx9Y8'}]}, {'hash': '48cab3bf8d863231df22599766e68f17b383d254e0ed41a3ee0aa563f2e91194', 'ver': 1, 'vin_sz': 1, 'vout_sz': 2, 'size': 247, 'weight': 661, 'fee': 830, 'relayed_by': '0.0.0.0', 'lock_time': 516194, 'tx_index': 339613598, 'double_spend': False, 'result': 90136, 'balance': 90136, 'time': 1522621341, 'block_height': 516195, 'inputs': [{'prev_out': {'value': 58491301, 'tx_index': 337493558, 'n': 1, 'spent': True, 'script': 'a9142dc35da18304e04976a12ca41c6c326a9fc676d987', 'type': 0, 'addr': '35rzNRfgUxXCRdDikHFKGGn4Tj1hQGLhnC'}, 'sequence': 4294967294, 'script': '160014bcce66a4da820c8c60af726655a7cf795bdff469', 'witness': '0247304402203b6ac33fda33b7846a633e2e4267ad3d65bdc8aae6e84eca9c7f76ed57b8db1002201491a3ce5de5ff5e99b219a88ac835f24d44327657db4be0cc3a394463dc1e0801210307d0686fcdf9581580c60b43722792a488be6baba0227e9d9bfd6334df11071c'}], 'out': [{'value': 90136, 'tx_index': 339613598, 'n': 0, 'spent': True, 'script': 'a91438bbc54027cbf7d692b56c0527df4cf59d3957f187', 'type': 0, 'addr': '36rzhowBRV2UZv6NXp6dJjNvpuaGTgzopA'}]}]}

    @property
    def _blockchain_data(self):
        return TestBlockchainInfo.RAW_API_DATA


def test_blockchain_info_tx_gen():
    blockchain_info = TestBlockchainInfo(addresses=ADDRESSES, refresh_rate=0, url='')
    assert blockchain_info.transactions == TRANSACTIONS
